(()=>{"use strict";var e={740:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,s)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(136)),a=process.env.PORT||3e3,p=[];o.createServer(((e,t)=>{const{method:n,url:i}=e;let s="";if(e.on("data",(e=>{s=e})),e.on("end",(()=>{t.end()})),"GET"===n&&"/api/users"===i)t.writeHead(200,{"Content-Type":"application/json"}),t.end(JSON.stringify(p));else if("GET"===n&&(null==i?void 0:i.startsWith("/api/users/"))){const e=i.split("/")[3],n=p.find((t=>t.id===e));if(n)try{t.writeHead(200,{"Content-Type":"application/json"}),t.end(JSON.stringify(n))}catch(e){t.writeHead(500,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:e}))}else t.writeHead(404,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:"User not found"}))}else if("POST"===n&&"/api/users"===i){const{username:e,age:n,hobbies:i}=JSON.parse(s);if(e&&n&&i){const s={id:d(),userName:e,age:n,hobbies:i};p.push(s),t.writeHead(201,{"Content-Type":"application/json"}),t.end(JSON.stringify(s))}else try{t.writeHead(400,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:"Body doesn't contains all requirements"}))}catch(e){t.writeHead(500,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:e}))}}else if("PUT"===n&&(null==i?void 0:i.startsWith("/api/users/"))){const e=i.split("/")[3],n=p.findIndex((t=>t.id===e));if(-1!==n)try{const{username:e,age:i,hobbies:r}=JSON.parse(s);p[n].age=i,p[n].hobbies=r,p[n].userName=e,t.writeHead(200,{"Content-Type":"application/json"}),t.end(JSON.stringify(p[n]))}catch(e){t.writeHead(500,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:e}))}else t.writeHead(404,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:"User not found"}))}else if("DELETE"===n&&(null==i?void 0:i.startsWith("/api/users/"))){const e=i.split("/")[3],n=p.findIndex((t=>t.id===e));if(-1!==n)try{p.splice(n,1),t.writeHead(204,{"Content-Type":"application/json"}),t.end()}catch(e){t.writeHead(500,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:e}))}else t.writeHead(404,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:"User not found"}))}else t.writeHead(404,{"Content-Type":"application/json"}),t.end(JSON.stringify({message:"Wrong request!"}))})).listen(a,(()=>{console.log(`Server has been running on the ${a} port`)}));const d=()=>{const e=(1e3*Math.random()).toString(16);return p.find((t=>t.id===e))?d():e}},136:e=>{e.exports=require("http")}},t={};!function n(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}(740)})();